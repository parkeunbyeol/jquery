<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script type="text/javascript">
//----------------------------------------------------------
// 4. 지역변수를 참조하는 함수 안에 함수 클로저(closure)		
//			전역변수는 특정 함수 몇 개만 공유하지 못하고 전체가 공유하는 변수이다.
//			클로저는 특정 함수가 암묵적으로 다른 함수의 참조를 가지고 있기 때문에
//			호출되는 함수가 참조하는 함수의 메모리 공간을 참조한다. (?)
//			아무튼 클로저를 이용하여 전역변수의 사용을 줄일 수 있다

/* var closure = function(init){
	
	var total = init;
	
	return function(){
				return ++total;	
			}
}

var myClosure = closure(1);
document.write( myClosure() + '<br/>');
document.write( myClosure() + '<br/>');
document.write( myClosure() + '<br/>');
 */
 
 // 15~22행과 같은 내용
/* 
 var myClosure = function(init){
		
		var total = init;
		
		return function(){
					return ++total;	
				}
}(1);
 document.write( myClosure() + '<br/>');
 document.write( myClosure() + '<br/>');
 document.write( myClosure() + '<br/>');
 */

 // 지역변수인 47행의 total을 함수 내에서 공유하기 위해 사용한다. 함수블럭에서 나와버리면 초기화가 되기때문에 공유가 안된다
 let addClosure = function(){
	 let total = 0;
	 
	 return function(num){
		 total += num;
		 return total;
	 };
 }();
 
 document.wrtie( addClosure(1) + '<br/>');
 document.wrtie( addClosure(2) + '<br/>');
 document.wrtie( addClosure(3) + '<br/>');
 
 
 
</script>
</head>
<body>

</body>
</html>